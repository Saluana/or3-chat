/*
	Theme Main Stylesheet - Default Theme
	======================================
	- Contains retro utility classes, prose styles, and custom theme styles
	- Merged from retro.css and prose-retro.css for better organization
	- Use app-* prefixed classes for component targeting
*/

/* ========================================
   RETRO UTILITY CLASSES
   ========================================
   Exported globally so dashboard modules share identical visuals.
   Extend styles by stacking an extra class (e.g. `.retro-chip.my-variant`).
   Do not duplicate these selectors in component-scoped blocksâ€”update here instead.
   Documented for plugin authors in `docs/UI/dashboard-plugins.md`.
*/

/* Screen-reader only helper (follows inclusive components pattern) */
.sr-only {
	position: absolute;
	width: 1px;
	height: 1px;
	padding: 0;
	margin: -1px;
	overflow: hidden;
	clip: rect(0 0 0 0);
	clip-path: inset(50%);
	white-space: nowrap;
	border: 0;
}

/* Retro "chip" toggle button used across dashboard settings */
.retro-chip {
	display: inline-flex;
	align-items: center;
	justify-content: center;
	padding: 0.25rem 0.5rem;
	font-size: 0.75rem;
	font-weight: 500;
	user-select: none;
	border: 2px solid var(--md-inverse-surface);
	box-shadow: 2px 2px 0 var(--md-inverse-surface);
	border-radius: 3px;
	background: var(--md-surface);
	color: var(--md-on-surface);
	line-height: 1;
	transition: background-color 120ms ease, color 120ms ease,
		transform 80ms ease, box-shadow 80ms ease;
}
.retro-chip:hover {
	background: var(--md-secondary-container);
	color: var(--md-on-secondary-container);
}
.retro-chip:active {
	transform: translate(2px, 2px);
	box-shadow: 0 0 0 var(--md-inverse-surface);
}
.retro-chip.active {
	background: var(--md-primary-container);
	color: var(--md-on-primary-container);
}
.retro-chip:focus-visible {
	outline: 2px solid var(--md-primary);
	outline-offset: 2px;
}

/* Retro text inputs (text + number inputs share the same base look) */
.retro-input {
	height: 32px;
	padding: 0 6px;
	font-size: 12px;
	font-family: inherit;
	line-height: 1;
	border: 2px solid var(--md-inverse-surface);
	background: var(--md-surface);
	color: var(--md-on-surface);
	border-radius: 3px;
	box-shadow: 2px 2px 0 var(--md-inverse-surface);
}
.retro-input:focus-visible {
	outline: 2px solid var(--md-primary);
	outline-offset: 2px;
}
textarea.retro-input {
	height: auto;
	padding-top: 6px;
	padding-bottom: 6px;
	line-height: 1.25;
}
.retro-input:disabled {
	opacity: 0.5;
	cursor: not-allowed;
}

/* Primary retro button scaffold (used with Nuxt UI buttons) */
.retro-btn {
	display: inline-flex;
	align-items: center;
	justify-content: center;
	line-height: 1;
	position: relative;
	border-radius: 3px;
	border: 2px solid var(--md-inverse-surface);
	box-shadow: 2px 2px 0 var(--md-inverse-surface);
	transition: transform 80ms ease, box-shadow 80ms ease;
}
.retro-btn.aspect-square {
	padding: 0;
	place-items: center;
}
.retro-btn:active {
	transform: translate(2px, 2px);
	box-shadow: 0 0 0 var(--md-inverse-surface),
		inset 0 2px 0 rgba(0, 0, 0, 0.25),
		inset 0 -2px 0 rgba(255, 255, 255, 0.12);
}
.retro-btn:focus-visible {
	outline: 2px solid var(--md-primary);
	outline-offset: 2px;
}
.retro-btn:disabled {
	opacity: 0.45;
	cursor: not-allowed;
	box-shadow: 2px 2px 0 color-mix(in oklab, var(--md-inverse-surface) 70%, transparent 30%);
}

/* Iconic copy button variant used in theme palette rows */
.retro-btn-copy {
	height: 32px;
	padding: 0 8px;
	font-size: 10px;
	line-height: 1;
	border: 2px solid var(--md-inverse-surface);
	border-radius: 3px;
	background: var(--md-secondary-container);
	color: var(--md-on-secondary-container);
	box-shadow: 2px 2px 0 var(--md-inverse-surface);
	cursor: pointer;
	transition: transform 80ms ease, box-shadow 80ms ease,
		background-color 120ms ease, color 120ms ease;
}
.retro-btn-copy:disabled {
	opacity: 0.4;
	cursor: not-allowed;
}
.retro-btn-copy:active:not(:disabled) {
	transform: translate(2px, 2px);
	box-shadow: 0 0 0 var(--md-inverse-surface);
}
.retro-btn-copy:focus-visible {
	outline: 2px solid var(--md-primary);
	outline-offset: 2px;
}

/* ========================================
   PROSE STYLES
   ========================================
   Typography and content styling for rich text content.
   Uses IBM Plex Sans for better readability in prose content.
*/

.prose-retro {
    font-family: "IBM Plex Sans", system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI',
        Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue',
        sans-serif !important;
    font-weight: 400;
    font-size: 16px;
    line-height: 1.7;
    color: var(--md-on-surface);
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
}

.prose-retro :deep(p) {
    margin-top: 1rem;
    margin-bottom: 1rem;
    line-height: 1.5;
    font-family: inherit !important;
    font-weight: 400;
}

.prose-retro :deep(span),
.prose-retro :deep(strong),
.prose-retro :deep(em),
.prose-retro :deep(b),
.prose-retro :deep(i) {
    font-family: inherit;
}

.prose-retro :deep(h1),
.prose-retro :deep(h2),
.prose-retro :deep(h3),
.prose-retro :deep(h4) {
    font-family: "IBM Plex Sans", system-ui !important;
    color: var(--md-primary);
    margin-top: 2rem;
    margin-bottom: 0.75rem;
    line-height: 1.3;
    font-weight: 600;
}

.prose-retro :deep(h1) {
    font-size: 1.875rem;
    border-bottom: 2px solid var(--md-inverse-surface);
    padding-bottom: 0.5rem;
    margin-bottom: 1rem;
}

.prose-retro :deep(h2) {
    font-size: 1.5rem;
}

.prose-retro :deep(h3) {
    font-size: 1.25rem;
}

.prose-retro :deep(a) {
    color: var(--md-primary);
    text-decoration: underline;
}

.prose-retro :deep(a:hover) {
    color: var(--md-primary-variant);
}

.prose-retro :deep(code) {
    background: var(--md-surface-container);
    padding: 0.1rem 0.1rem;
    color: var(--md-on-surface);
    font-family: 'Courier New', monospace;
    font-size: 0.9em;
}

@media (prefers-color-scheme: dark) {
    .prose-retro :deep(code) {
        color: white !important;
    }
}

.prose-retro :deep(pre) {
    padding: 1rem;
    border-radius: 3px;
    border: 2px solid var(--md-inverse-surface);
    overflow-x: auto;
    margin: 1rem 0;
    font-weight: 505;
}

.prose-retro :deep(pre code) {
    background: transparent;
    padding: 0;
    border: none;
    font-size: 16px;
}

/* Streamdown code blocks */
.prose-retro :deep([data-streamdown='code-block']) {
    margin: 1rem 0;
    border: 2px solid var(--md-inverse-surface);
    border-radius: 3px;
    overflow: hidden;
}

.prose-retro :deep([data-streamdown='code-body']) {
    padding-bottom: 0 !important;
}

.prose-retro :deep([data-streamdown='pre']) {
    padding-bottom: 20px !important;
}

.prose-retro :deep([data-streamdown='code-block-header']) {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 0.5rem 1rem;
    background: var(--md-primary-container);
    border-bottom: 2px solid var(--md-inverse-surface);
    font-family: 'Press Start 2P', monospace;
    font-size: 16px;
}

.prose-retro :deep([data-streamdown='code-lang']) {
    text-transform: uppercase;
    color: var(--md-primary);
    letter-spacing: 0.5px;
    font-size: 10px !important;
}

.prose-retro :deep([data-streamdown='code']) {
font-family: "VT323", monospace !important;
    font-size: 18px !important;
}

.prose-retro :deep([data-streamdown='code-body']) {
    padding: 1rem;
    overflow-x: auto;
}

.prose-retro :deep([data-streamdown='code-body'] pre) {
    margin: 0;
    padding: 0;
    border: none;
    background: transparent;
}

.prose-retro :deep([data-streamdown='copy-button']) {
    padding: 0.25rem 0.5rem;
    background: var(--md-primary);
    color: white;
    border: 1px solid var(--md-inverse-surface);
    border-radius: 3px;
    cursor: pointer;
    font-size: 0.75rem;
    transition: background 0.2s;
}

.prose-retro :deep([data-streamdown='copy-button']:hover) {
    background: var(--md-primary-variant);
}

.prose-retro :deep([data-streamdown='table-wrapper']) {
    overflow-x: auto;
    border-radius: 3px;
}

.prose-retro :deep(blockquote) {
    border-left: 4px solid var(--md-primary);
    padding-left: 1rem;
    margin: 1rem 0;
    font-style: italic;
}

.prose-retro :deep(ul),
.prose-retro :deep(ol) {
    margin: 1rem 0;
    padding-left: 2rem;
}

.prose-retro :deep(li) {
    margin: 0.5rem 0;
}

.prose-retro :deep(table) {
    width: auto;
    min-width: min-content;
    max-width: 100%;
    border-collapse: collapse;
    margin: 1rem 0;
}

.prose-retro :deep(th),
.prose-retro :deep(td) {
    border: 2px solid var(--md-inverse-surface);
    padding: 0.5rem 0.75rem;
    text-align: left;
    font-size: 16px;
    white-space: nowrap;
}

.prose-retro :deep(th) {
    background: var(--md-primary-container);
    font-weight: bold;
}

/* ========================================
   ACCESSIBILITY & MOTION
   ========================================
   Shared motion reduction: keep retro UI snappy yet accessible
*/

@media (prefers-reduced-motion: reduce) {
	.retro-chip,
	.retro-btn,
	.retro-btn-copy,
	.retro-input {
		transition: none;
		transform: none;
	}
}
